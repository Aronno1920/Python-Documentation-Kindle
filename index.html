<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>charlax/Python-Documentation-Kindle @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #142cbc;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #ffffff;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #ebd343; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #ebd343; }
    h3 { text-align: center; color: #ebd343; }
    a { color: #ebd343; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
</head>

<body>
  <a href="http://github.com/charlax/Python-Documentation-Kindle"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/charlax/Python-Documentation-Kindle/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/charlax/Python-Documentation-Kindle/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/charlax/Python-Documentation-Kindle">Python-Documentation-Kindle</a>
      <span class="small">by <a href="http://github.com/charlax">charlax</a></span></h1>

    <div class="description">
      Read the Python documentation on your Kindle (or any other Sphinx-powered documentation)
    </div>

    <p>This project lets you download a **Kindle-optimized version of the Python documentation**. You can also create your own ebook for any project using Sphinx to generate its documentation.

**Download** the Kindle ebook here:  [Python.mobi](http://min.us/mpw85Fw3E)

You can also clone this repository (unfortunately, the file is too big to be downloaded directly from GitHub, you'll get the following error: `Error: blob is too big`).

This file is for Python v3.2.2. Last update: 25 September 2011.

![Kindle Python Documentation book](https://github.com/charlax/Python-Documentation-Kindle/raw/master/img/Kindle-Python-Documentation.png)</p><h2>Dependencies</h2>
<p>The project must use [Sphinx](http://sphinx.pocoo.org/) to generate its documentation (this is the case for Python).

You need to install Amazon's [KindleGen](http://www.amazon.com/gp/feature.html?ie=UTF8&docId=1000234621) tool and have it in your path:

	$ ln -s ~/bin/kindlegen/kindlegen /usr/local/bin/</p>
<h2>Install</h2>
<p>You can also generate a Kindle-optimized file for any other version of Python.

Step-by-step tutorial
---------------------

I tweaked Sphinx a little bit (see modifications below) to make this possible.

	$ cd ~/Downloads
	$ hg clone https://bitbucket.org/charlax/sphinx
	$ wget http://www.python.org/ftp/python/3.2.2/Python-3.2.2.tar.bz2
	$ tar xjf Python-3.2.2.tar.bz2
	$ cd Python-3.2.2/Doc
	$ echo "\n# to have the correct first page on Kindle\nepub_pre_files = [('index.html', 'Overview'),]" >> conf.py
	$ python ~/Downloads/sphinx/sphinx-build.py -a -b mobi . build/mobi

The MOBI ebook is `~/Downloads/Python-3.2.2/Doc/build/mobi/Python.mobi`

Modified version of Sphinx
--------------------------

A little bit of background: the Kindle uses a proprietary format `.azw`. This format is based MOBI, another format designed by Mobipocket. This French company was bought by Amazon.com in 2005.

I added a MOBI builder to Sphinx, based on the ePub one. There are scarce documentation about the MOBI format which seems rather closed: this is the reason why I use KindleGen (a free tool maintained by Amazon.com) to convert the ePub to a MOBI ebook.

Here's what I changed to Sphinx:

* Added guide section to `content.opf` (required by Amazon to set the first content shown and the TOC file)
* Removed `@font-face` in the CSS (not supported by the MOBI format)
* Used `kindlegen` to convert the ePub to MOBI.</p>
<h2>Authors</h2>
<p>Charles-Axel Dein (ca@d3in.org)<br/><br/>      </p>
<h2>Contact</h2>
<p>Charles-Axel Dein (ca@d3in.org)<br/>      </p>


    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/charlax/Python-Documentation-Kindle/zipball/master">zip</a> or
      <a href="http://github.com/charlax/Python-Documentation-Kindle/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/charlax/Python-Documentation-Kindle</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/charlax/Python-Documentation-Kindle">charlax/Python-Documentation-Kindle</a>
    </div>

  </div>

  
</body>
</html>
